# otus
Terraform скрипт
Создать и запустить базовый Terraform скрипт для автоматизации установки и настройки виртуальной машины в рабочем окружении.

Имеем рабочее окружение в виде кластера серверов vmware под управлением vsphere, на кластере уже присутствует серверная инфрастуктура,сети, хранилища данных.

1. Установка Terraform 

Для установки и последующей эксплуатации терраформ будем использовтаь отдельную vm под управлением ОС Debian 12.
Скачиваем с официального сайта бинарник под нужную ос https://developer.hashicorp.com/terraform/install , распаковываем его и перемещаем в /usr/local/bin/, командой terraform --version проверяем текущую версию, для своих целей будем использовать  версию Terraform v1.7.0  on linux_amd64 .

2. Установка провайдера.
Для работы с vsphere потребуется провайдер, нужную нам версию провайдера скачиваем с оф сайта https://releases.hashicorp.com/terraform-provider-vsphere/ распаковываем архив с бинарным файлом и перемещаем его в каталог ~/.terraform.d/plugins/registry.terraform.io/hashicorp/vsphere/2.11.1/linux_amd64/ пользователя из под которого будем работать с тераформ.
Аналогинчно с провайдером для vault.

3. init
Создаем папку нового проекта в нашем случае по пути /opt/kvazZz_terra/terraform/ с необходимыми файлами .

Учетные данные для подключеня к сфере храним в локальном vault,  для доступа используем токен который будет запрашиваться тераформом при проверки и запуске скрипта.

Задаем в скрипте необходимые параметры для поднятия vm по готововому шаблону .

По окончанию поднятия vm выводим данные.
Проверяем ping , проверяем ssh до vm.
